<html>

  <head>
    <title>
      MPAS_DRAW - Display MPAS Grids and Solution Data
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      MPAS_DRAW <br> Display MPAS Grids and Solution Data
    </h1>

    <hr>

    <p>
      <b>MPAS_DRAW</b>
      is a C++ program which
      reads information from a NETCDF file written by the MPAS program,
      containing the grid information
      and computed solution values, some of which may be time dependent,
      or organized in vertical atmospheric levels, and then displays
      graphic images of data using OpenGL.
    <p>

    <p>
      The program is interactive, and allows the user to select the
      underlying mesh structure (cells, dual triangles, or edges)
      and the associated physical quantities to view.
    </p>

    <p>
      A set of keyboard commands allow the user to rotate or translate
      the view, to move through time steps or vertical levels, and so on.
    </p>

    <h3 align = "center">
      Usage:
    </h3>

    <p>
      <blockquote>
        <b>mpas_draw</b> <i>filename</i><b>.nc</b>
      </blockquote>
      where
      <ul>
        <li>
          <i>filename</i><b>.nc</b> is the name of the MPAS NETCDF grid file;
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Keyboard Control:
    </h3>

    <p>
      <ul>
        <li>
          <i>Arrow keys</i>: rotate the image, to allow for viewing
          at different angles.
        </li>
        <li>
          <b>s, d, f, e</b>: <i>(translation)</i>
          <b>s</b>/<b>f</b> keys move left and right; <b>d</b>/<b>e</b> move up and down.
        </li>
        <li>
          <b>, .</b>: <i>(translation)</i>
            The <b>,</b> and <b>.</b> keys control the depth of the image.  That is,
            they appear to move the image toward or away from the viewer.
        </li>
        <li>
          <b>c</b>: <i>(connectivity)</i>
          cycles between the kind of cells that are drawn:
          <ul>
            <li>
              the Delaunay triangles;
            </li>
            <li>
              the Voronoi cells;
            </li>
            <li>
              the edges, drawn as rectangles made up of two cell centers, and two
              cell vertices.
            </li>
          </ul>
          The kind of cells chosen also determines the kind of variables
          that can be plotted.
        </li>
        <li>
          <b>w</b>: <i>(wireframe)</i>
          toggles the wireframe (cell boundaries) on and off.
        </li>
        <li>
          <b>r</b>: <i>(reset)</i>
          resets the plot to the default parameters (for color, timestep, vertical level, position, and rotation).
        </li>
        <li>
          <b>v</b>: <i>(variables)</i>
          lists available variables that can be chosen
          to color the current mesh with. After pressing <b>v</b>, the variables are listed in the terminal.
          The variable id (given as a number in the leftmost column) can be entered to
          change the color of the current plot.
        </li>
        <li>
          <b>l</b>: <i>(level)</i>
          cycles through available vertical levels.
        </li>
        <li>
          <b>t</b>: <i>(time)</i>
          cycles through available time steps.
        </li>
        <li>
          <b>ESC</b>: <i>(terminate)</i> closes the program.
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files described and made available on this web page
      are distributed under
      <a href = "../../txt/gnu_lgpl.txt">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Related Programs:
    </h3>

    <p>
      <a href = "../../m_src/mpas_grid_display/mpas_grid_display.html">
      MPAS_GRID_DISPLAY</a>,
      MATLAB programs which
      can read an MPAS NETCDF grid file and display the primary polygonal
      mesh or the dual triangular mesh.
    </p>

    <p>
      <a href = "../../cpp_src/mpas_grid_display_opengl/mpas_grid_display_opengl.html">
      MPAS_GRID_DISPLAY_OPENGL</a>,
      C++ programs which
      can read an MPAS NETCDF grid file and display the primary polygonal
      mesh or the dual triangular mesh, using OpenGL.
    </p>

    <p>
      <a href = "../../data/netcdf/netcdf.html">
      NETCDF</a>,
      a data directory which
      contains examples of NETCDF files,
      a format for the interchange of scientific data.
    </p>

    <p>
      <a href = "../../data/netcdf_mpas/netcdf_mpas.html">
      NETCDF_MPAS</a>,
      a data directory which
      contains examples of MPAS grid data stored as NETCDF files.
    </p>

    <p>
      <a href = "../../cpp_src/netcdf_mpas/netcdf_mpas.html">
      NETCDF_MPAS</a>,
      a C++ library which
      reads MPAS grid data stored as NETCDF files.
    </p>

    <h3 align = "center">
      Author:
    </h3>

    <p>
      Doug Jacobsen, John Burkardt, Geoff Womeldorff.
    </p>

    <h3 align = "center">
      Reference:
    </h3>

    <p>
      <ol>
        <li>
          Russ Rew, Glenn Davis, Steve Emmerson, Harvey Davies, Ed Hartne,<br>
          The NetCDF User's Guide,<br>
          Unidata Program Center, March 2009,<br>
          <a href = "../../pdf/netcdf.pdf">netcdf.pdf</a>,
        </li>
        <li>
          Todd Ringler, John Thuburn, Joseph Klemp, William Skamarock,<br>
          A unified approach to energy conservation and potential
          vorticity dynamics for arbitrarily-structured C-grids,<br>
          Journal of Computational Physics,<br>
          Volume 229, Number 9, 1 May 2010, pages 3065-3090.
        </li>
      </ol>
    </p>

    <h3 align = "center">
      Source Code:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "mpas_draw.cpp">
          mpas_draw.cpp</a>,
          the main source code.
        </li>
        <li>
          <a href = "netcdf_utils.cpp">
          netcdf_utils.cpp</a>,
          functions which retrieve data from the NETCDF file.
        </li>
        <li>
          <a href = "vec_utils.cpp">
          vec_utils.cpp</a>,
          some lower-level utilities.
        </li>
        <li>
          <a href = "constants.hpp">
          constants.hpp</a>,
          an include file that defines certain constants.
        </li>
        <li>
          <a href = "netcdf_utils.hpp">
          netcdf_utils.hpp</a>,
          procedure declarations for netcdf_utils.cpp
        </li>
        <li>
          <a href = "vec_utils.hpp">
          vec_utils.hpp</a>,
          procedure declarations for vec_utils.cpp
        </li>
        <li>
          <a href = "mpas_draw.sh">
          mpas_draw.sh</a>,
          a BASH command file that compiles and loads the program.
        </li>
        <li>
          <a href = "Makefile">Makefile</a>,
          a makefile for the program.
        </li>
      </ul>
    </p>

    <h3 align = "center">
      Examples and Tests:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "../../data/netcdf_mpas/channel.nc">channel.nc</a>,
          an MPAS grid file for a mesh restricted to a channel on
          the sphere, between a pair of latitude lines,
          using 2660 cells, 5545 vertices, 8205 edges.
        </li>
        <li>
          <a href = "../../data/greenland_5km.nc">greenland_5km.nc</a>,
          an MPAS grid file for a 301 x 561 mesh of Greenland.
        </li>
        <li>
          <a href = "../../data/netcdf_mpas/x1.642.grid.nc">x1.642.grid.nc</a>,
          an MPAS grid file for a mesh on the sphere,
          using 642 nodes, 1280 vertices, 1920 edges.
        </li>
        <li>
          <a href = "../../data/netcdf_mpas/x1.2562.grid.nc">x1.2562.grid.nc</a>,
          an MPAS grid file for a mesh on the sphere,
          using 2562 nodes, 5120 vertices, 7680 edges.
        </li>
        <li>
          <a href = "../../data/netcdf_mpas/x16.2562.grid.nc">x16.2562.grid.nc</a>,
          an MPAS grid file for a mesh on the sphere,
          using 2562 nodes, 5120 vertices, 7680 edges.
          A variable mesh density was used.
        </li>
      </ul>
    </p>

    <p>
      You can go up one level to <a href = "../m_src.html">
      the MATLAB source codes</a>.
    </p>

    <hr>

    <i>
      Last revised on 18 January 2011.
    </i>

    <!-- John Burkardt -->

  </body>

  <!-- Initial HTML skeleton created by HTMLINDEX. -->

</html>
